inner_started := false;
inner_completed := false;
outer_started := false;
outer_completed := false;
inner_value_seen := false;
inner := spawn {
  inner_started = true;
  inner_completed = true;
  "X";
};
outer := spawn {
  outer_started = true;
  result := inner.value();
  inner_value_seen = result == "X";
  outer_completed = true;
  "done";
};
final := outer.value();
[inner_started, inner_completed, outer_started, inner_value_seen, outer_completed, final == "done"];
