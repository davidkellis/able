package concurrency

struct AwaitWaker {
  wake: fn() -> void
}

struct AwaitRegistration {
  cancel: fn() -> void
}

interface Awaitable Output for T {
  fn is_ready(self: Self) -> bool;
  fn register(self: Self, waker: AwaitWaker) -> AwaitRegistration;
  fn commit(self: Self) -> Output;
  fn is_default(self: Self) -> bool { false }
}
