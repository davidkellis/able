=================
Option Handling
=================

fn handle(config_port, loader) {
  port := config_port or { 8080 }
  data := loader() or { err =>
    log(err.message())
    []
  }
  propagated := loader()! or {
    recover_default()
  }
}
---

(source_file
  (function_definition
    (identifier)
    (parameter_list
      (parameter
        (pattern_base
          (identifier)))
      (parameter
        (pattern_base
          (identifier))))
    (block
      (expression_statement
        (low_precedence_pipe_expression
          (assignment_expression
            (assignment_target
              (pattern_base
                (identifier)))
            (assignment_operator)
            (assignment_expression
              (pipe_expression
                (matchable_expression
                  (handling_expression
                    (pipe_operand_base
                      (range_expression
                        (logical_or_expression
                          (logical_and_expression
                            (bitwise_or_expression
                              (bitwise_xor_expression
                                (bitwise_and_expression
                                  (equality_expression
                                    (comparison_expression
                                      (shift_expression
                                        (additive_expression
                                          (multiplicative_expression
                                            (unary_expression
                                              (exponent_expression
                                                (postfix_expression
                                                  (primary_expression
                                                    (identifier)))))))))))))))))
                    (or_handler_clause
                      (handling_block
                        (expression_statement
                          (low_precedence_pipe_expression
                            (assignment_expression
                              (pipe_expression
                                (matchable_expression
                                  (pipe_operand_base
                                    (range_expression
                                      (logical_or_expression
                                        (logical_and_expression
                                          (bitwise_or_expression
                                            (bitwise_xor_expression
                                              (bitwise_and_expression
                                                (equality_expression
                                                  (comparison_expression
                                                    (shift_expression
                                                      (additive_expression
                                                        (multiplicative_expression
                                                          (unary_expression
                                                            (exponent_expression
                                                              (postfix_expression
                                                                (primary_expression
                                                                  (number_literal)))))))))))))))))))))))))))))))
      (expression_statement
        (low_precedence_pipe_expression
          (assignment_expression
            (assignment_target
              (pattern_base
                (identifier)))
            (assignment_operator)
            (assignment_expression
              (pipe_expression
                (matchable_expression
                  (handling_expression
                    (pipe_operand_base
                      (range_expression
                        (logical_or_expression
                          (logical_and_expression
                            (bitwise_or_expression
                              (bitwise_xor_expression
                                (bitwise_and_expression
                                  (equality_expression
                                    (comparison_expression
                                      (shift_expression
                                        (additive_expression
                                          (multiplicative_expression
                                            (unary_expression
                                              (exponent_expression
                                                (postfix_expression
                                                  (primary_expression
                                                    (identifier))
                                                  (call_suffix))))))))))))))))
                    (or_handler_clause
                      (handling_block
                        (identifier)
                        (expression_statement
                          (low_precedence_pipe_expression
                            (assignment_expression
                              (pipe_expression
                                (matchable_expression
                                  (pipe_operand_base
                                    (range_expression
                                      (logical_or_expression
                                        (logical_and_expression
                                          (bitwise_or_expression
                                            (bitwise_xor_expression
                                              (bitwise_and_expression
                                                (equality_expression
                                                  (comparison_expression
                                                    (shift_expression
                                                      (additive_expression
                                                        (multiplicative_expression
                                                          (unary_expression
                                                            (exponent_expression
                                                              (postfix_expression
                                                                (primary_expression
                                                                  (identifier))
                                                                (call_suffix
                                                                  (low_precedence_pipe_expression
                                                                    (assignment_expression
                                                                      (pipe_expression
                                                                        (matchable_expression
                                                                          (pipe_operand_base
                                                                            (range_expression
                                                                              (logical_or_expression
                                                                                (logical_and_expression
                                                                                  (bitwise_or_expression
                                                                                    (bitwise_xor_expression
                                                                                      (bitwise_and_expression
                                                                                        (equality_expression
                                                                                          (comparison_expression
                                                                                            (shift_expression
                                                                                              (additive_expression
                                                                                                (multiplicative_expression
                                                                                                  (unary_expression
                                                                                                    (exponent_expression
                                                                                                      (postfix_expression
                                                                                                        (primary_expression
                                                                                                          (identifier))
                                                                                                        (member_access
                                                                                                          (identifier))
                                                                                                        (call_suffix)))))))))))))))))))))))))))))))))))))))))
                        (expression_statement
                          (low_precedence_pipe_expression
                            (assignment_expression
                              (pipe_expression
                                (matchable_expression
                                  (pipe_operand_base
                                    (range_expression
                                      (logical_or_expression
                                        (logical_and_expression
                                          (bitwise_or_expression
                                            (bitwise_xor_expression
                                              (bitwise_and_expression
                                                (equality_expression
                                                  (comparison_expression
                                                    (shift_expression
                                                      (additive_expression
                                                        (multiplicative_expression
                                                          (unary_expression
                                                            (exponent_expression
                                                              (postfix_expression
                                                                (primary_expression
                                                                  (array_literal)))))))))))))))))))))))))))))))
      (expression_statement
        (low_precedence_pipe_expression
          (assignment_expression
            (assignment_target
              (pattern_base
                (identifier)))
            (assignment_operator)
            (assignment_expression
              (pipe_expression
                (matchable_expression
                  (handling_expression
                    (pipe_operand_base
                      (range_expression
                        (logical_or_expression
                          (logical_and_expression
                            (bitwise_or_expression
                              (bitwise_xor_expression
                                (bitwise_and_expression
                                  (equality_expression
                                    (comparison_expression
                                      (shift_expression
                                        (additive_expression
                                          (multiplicative_expression
                                            (unary_expression
                                              (exponent_expression
                                                (postfix_expression
                                                  (primary_expression
                                                    (identifier))
                                                  (call_suffix)
                                                  (propagate_suffix))))))))))))))))
                    (or_handler_clause
                      (handling_block
                        (expression_statement
                          (low_precedence_pipe_expression
                            (assignment_expression
                              (pipe_expression
                                (matchable_expression
                                  (pipe_operand_base
                                    (range_expression
                                      (logical_or_expression
                                        (logical_and_expression
                                          (bitwise_or_expression
                                            (bitwise_xor_expression
                                              (bitwise_and_expression
                                                (equality_expression
                                                  (comparison_expression
                                                    (shift_expression
                                                      (additive_expression
                                                        (multiplicative_expression
                                                          (unary_expression
                                                            (exponent_expression
                                                              (postfix_expression
                                                                (primary_expression
                                                                  (identifier))
                                                                (call_suffix)))))))))))))))))))))))))))))))))
